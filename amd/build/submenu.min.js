define("theme_boost_union/submenu",["exports","jquery","core/key_codes"],(function(_exports,_jquery,_key_codes){var obj;
/**
   * Initializes and handles events in the user menu.
   *
   * @module     core/smartMenu
   * @copyright  2021 Moodle
   * @author     Mihail Geshoski <mihail@moodle.com>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_jquery=(obj=_jquery)&&obj.__esModule?obj:{default:obj};const selectors_smartMenu=".theme-boost-union-smartmenu-carousel",selectors_smartMenuCarousel="#smartmenu-carousel",selectors_smartMenuCarouselItemActive="#smartmenu-carousel .carousel-item.active",selectors_smartMenuCarouselNavigationLink="#smartmenu-carousel .carousel-navigation-link";var _default={init:()=>{const smartMenus=document.querySelectorAll(selectors_smartMenu);void 0!==smartMenus&&null!==smartMenus.length&&smartMenus.forEach((e=>(smartMenu=>{var smartMenuDropDown=smartMenu.querySelector(".dropdown-menu");new MutationObserver((function(){if(smartMenuDropDown.classList.contains("show")){smartMenu.querySelector(selectors_smartMenuCarouselItemActive).focus();var element=smartMenu.querySelector(selectors_smartMenuCarousel);void 0===element&&null===element.length||(element.style.minWidth=element.offsetWidth+"px",element.style.minHeight=element.offsetHeight+"px")}}),!0).observe(smartMenuDropDown,{attributes:!0,childList:!0}),smartMenu.addEventListener("click",(e=>{e.target.matches(selectors_smartMenuCarouselNavigationLink)&&carouselManagement(e)}),!0),smartMenu.addEventListener("keydown",(e=>{e.keyCode!==_key_codes.space&&e.keyCode!==_key_codes.enter||!e.target.matches(selectors_smartMenuCarouselNavigationLink)||(e.preventDefault(),carouselManagement(e))}),!0);const carouselManagement=e=>{e.stopPropagation();const targetedCarouselItemId=e.target.dataset.carouselTargetId,targetedCarouselItem=smartMenu.querySelector("#"+targetedCarouselItemId),index=Array.from(targetedCarouselItem.parentNode.children).indexOf(targetedCarouselItem);(0,_jquery.default)(smartMenu.querySelector(selectors_smartMenuCarousel)).carousel(index)};(0,_jquery.default)(selectors_smartMenu).on("hide.bs.dropdown",(()=>{(0,_jquery.default)(smartMenu.querySelector(selectors_smartMenuCarousel)).carousel(0)})),(0,_jquery.default)(selectors_smartMenuCarousel).on("slid.bs.carousel",(()=>{smartMenu.querySelector(selectors_smartMenuCarouselItemActive).focus()}))})(e)))}};return _exports.default=_default,_exports.default}));

//# sourceMappingURL=submenu.min.js.map